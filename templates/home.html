<!DOCTYPE html>
<html>
   <head>
      <title>Weather Application</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
   </head>
   <body>
      <div class="main-container-background"  style="background-image: url('{{weather.img_url}}')">
         <h1 class="text-white text-center" style="height:50px">Weather Application</h1>
         <div class="d-flex justify-content-between align-items-center" style="height:calc(100% - 50px)">
            <div class="h-100" style="width: 60%">
               <div class="m-3 box-container text-white h-100 d-flex align-items-center justify-content-center">
                  <div class="col-12">
                     <div id="wrapper-bg" class="shadow-4-strong" style="background-color: transparent">
                        <!-- Main current data -->
                        <div class="p-4 border-0">
                           <div class="text-center">
                              <h1 style="font-size:110px">{{weather.temperature }}&#176;</h1>
                              <h1 class="mt-3 mb-0 ">{{weather.location}}</h1>
                              <h4 class="mt-3 mb-0 ">{{weather.current_datetime}}</h4>
                              <div class="d-flex flex-column text-center">
                                 <h2 class="fa fa-sun-o mt-4"></h2>
                                 <h4 class="mt-3 mb-0 ">{{weather.description}}</h4>
                              </div>
                           </div>
                           <div class="text-center mb-3">
                              <p class="h2 mb-1" id="wrapper-name"></p>
                              <p class="mb-1" id="wrapper-description"></p>
                              <p class="display-1 mb-1" id="wrapper-temp"></p>
                              <span class="mt-3 mb-0">Pressure: {{weather.pressure}}</span>
                              <span class="mx-2">|</span>
                              <span class="mt-3 mb-0">Humidity: {{weather.humidity}}%</span>
                              <span class="mx-2">|</span>
                              <span class="mt-3 mb-0 ">Wind Speed: {{weather.wind_speed}}kmh </span>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="h-100" style="width: 40%">
               <div class="m-3 box-container h-100 text-white">
                  <h3 class="text-center">Weather Application</h3>
                  <form method="post" action="/weather">
                     <div class="form-group">
                        <label for="location">Enter your location or select famous city from dropdown:</label>
                        <input type="text" class="form-control" name="location" id="location" placeholder="Timezone" list="list-timezone">
                        <datalist id="list-timezone">
                           <option value="" selected disabled>Select a location</option>
                           {% for city, coordinates in cities.items() %}-->
                           <option value="{{ city }}" data-latitude="{{ coordinates.latitude }}" data-longitude="{{ coordinates.longitude }}">{{ city }}</option>
                           {% endfor %}
                        </datalist>
                        <button type="submit" value="Predict" class="btn btn-primary mt-2">Predict</button>
                     </div>
                  </form>
               </div>
            </div>
         </div>
      </div>
      <style>
         .main-container-background{
         height:100vh;
         background-position: center;
         background-repeat: no-repeat;
         background-size: cover;
         }
         .box-container{
         background: #ffffff1a;
         border-radius: 10px;
         border: 1px solid #fff;
         padding: 1rem;
         height: 95% !important;
         }
      </style>
      <script>
         document.addEventListener('DOMContentLoaded', e => {
         $('#location').autocomplete()
         }, false);
      </script>
      <script src="../static/js/famous.js"></script>
      <script src="../static/js/weather.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
   </body>
</html>